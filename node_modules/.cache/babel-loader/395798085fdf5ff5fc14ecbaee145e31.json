{"ast":null,"code":"var _jsxFileName = \"/Users/hyunobae/dev/jamaica/src/providers/WalletProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport WalletContext, { initialWalletContext } from '../contexts/WalletContext';\nimport UserType from '../enums/UserType';\nimport { useWeb3React } from '@web3-react/core';\nimport InjectedConnector from '../core/connectors/injectedConnector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WalletProvider = props => {\n  _s();\n\n  const {\n    account,\n    chainId,\n    activate\n  } = useWeb3React();\n  const [state, setState] = useState(initialWalletContext);\n  const TempCollateralAddress = \"0x6A040998EeB628Cf40683833812F0463C4FC79F9\";\n  const TempBorrowerAddress = \"0xB91e9f737B2227E92A373fb071b66B10eC6770d0\";\n  let throttle_flag = false;\n\n  const throttle = (func, delay) => {\n    if (!throttle_flag) {\n      func();\n      throttle_flag = true;\n      setTimeout(() => {\n        throttle_flag = false;\n      }, delay);\n    }\n  };\n\n  useEffect(() => {\n    if (account) {\n      throttle(() => setState({ ...state,\n        address: account\n      }), 500);\n    }\n\n    setState({ ...state,\n      active: !!account,\n      chainId: chainId\n    });\n\n    switch (account) {\n      case TempCollateralAddress:\n        setState({ ...state,\n          userType: UserType.Collateral\n        });\n        break;\n\n      case TempBorrowerAddress:\n        setState({ ...state,\n          userType: UserType.Borrowers\n        });\n        break;\n\n      default:\n        if (!!account) {\n          setState({ ...state,\n            userType: UserType.Guest\n          });\n        } else {\n          setState({ ...state,\n            userType: UserType.User\n          });\n        }\n\n    }\n  }, [account]);\n\n  const activateWallet = () => {\n    activate(InjectedConnector);\n    console.log(account);\n  };\n\n  return /*#__PURE__*/_jsxDEV(WalletContext.Provider, {\n    value: { ...state,\n      activateWallet\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WalletProvider, \"w+WrcVtJeyQGEgJO98HfIW/V/Ow=\", false, function () {\n  return [useWeb3React];\n});\n\n_c = WalletProvider;\nexport default WalletProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"WalletProvider\");","map":{"version":3,"sources":["/Users/hyunobae/dev/jamaica/src/providers/WalletProvider.tsx"],"names":["useEffect","useState","WalletContext","initialWalletContext","UserType","useWeb3React","InjectedConnector","WalletProvider","props","account","chainId","activate","state","setState","TempCollateralAddress","TempBorrowerAddress","throttle_flag","throttle","func","delay","setTimeout","address","active","userType","Collateral","Borrowers","Guest","User","activateWallet","console","log","children"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,aAAP,IAAwBC,oBAAxB,QAAoE,2BAApE;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,OAAOC,iBAAP,MAA8B,sCAA9B;;;AAKA,MAAMC,cAAgC,GAAIC,KAAD,IAAgB;AAAA;;AACvD,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,OAAX;AAAoBC,IAAAA;AAApB,MAAiCN,YAAY,EAAnD;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAiBE,oBAAjB,CAAlC;AAEA,QAAMW,qBAAqB,GAAG,4CAA9B;AACA,QAAMC,mBAAmB,GAAG,4CAA5B;AAEA,MAAIC,aAAa,GAAG,KAApB;;AACA,QAAMC,QAAQ,GAAG,CAACC,IAAD,EAAmBC,KAAnB,KAAqC;AACpD,QAAI,CAACH,aAAL,EAAoB;AAClBE,MAAAA,IAAI;AACJF,MAAAA,aAAa,GAAG,IAAhB;AACAI,MAAAA,UAAU,CAAC,MAAM;AACfJ,QAAAA,aAAa,GAAG,KAAhB;AACD,OAFS,EAEPG,KAFO,CAAV;AAGD;AACF,GARD;;AAUAnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,OAAJ,EAAa;AACXQ,MAAAA,QAAQ,CAAC,MAAMJ,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYS,QAAAA,OAAO,EAAEZ;AAArB,OAAD,CAAf,EAAiD,GAAjD,CAAR;AACD;;AACDI,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYU,MAAAA,MAAM,EAAE,CAAC,CAACb,OAAtB;AAA+BC,MAAAA,OAAO,EAAEA;AAAxC,KAAD,CAAR;;AAEA,YAAQD,OAAR;AACE,WAAKK,qBAAL;AACED,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYW,UAAAA,QAAQ,EAAEnB,QAAQ,CAACoB;AAA/B,SAAD,CAAR;AACA;;AACF,WAAKT,mBAAL;AACEF,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYW,UAAAA,QAAQ,EAAEnB,QAAQ,CAACqB;AAA/B,SAAD,CAAR;AACA;;AACF;AACE,YAAG,CAAC,CAAChB,OAAL,EAAc;AACZI,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYW,YAAAA,QAAQ,EAAEnB,QAAQ,CAACsB;AAA/B,WAAD,CAAR;AACD,SAFD,MAEO;AACLb,UAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYW,YAAAA,QAAQ,EAAEnB,QAAQ,CAACuB;AAA/B,WAAD,CAAR;AACD;;AAZL;AAcD,GApBQ,EAoBN,CAAClB,OAAD,CApBM,CAAT;;AAsBA,QAAMmB,cAAc,GAAG,MAAM;AAC3BjB,IAAAA,QAAQ,CAACL,iBAAD,CAAR;AACAuB,IAAAA,OAAO,CAACC,GAAR,CAAYrB,OAAZ;AACD,GAHD;;AAOA,sBACE,QAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAE,EAC7B,GAAGG,KAD0B;AAE7BgB,MAAAA;AAF6B,KAA/B;AAAA,cAIGpB,KAAK,CAACuB;AAJT;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CAvDD;;GAAMxB,c;UACmCF,Y;;;KADnCE,c;AAyDN,eAAeA,cAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport WalletContext, { initialWalletContext, IWalletContext } from '../contexts/WalletContext';\nimport UserType from '../enums/UserType';\nimport { useWeb3React } from '@web3-react/core';\nimport InjectedConnector from '../core/connectors/injectedConnector';\ninterface IProps {\n  triedEager: any\n}\n\nconst WalletProvider: React.FC<IProps> = (props: any) => {\n  const { account, chainId, activate } = useWeb3React();\n  const [state, setState] = useState<IWalletContext>(initialWalletContext);\n\n  const TempCollateralAddress = \"0x6A040998EeB628Cf40683833812F0463C4FC79F9\";\n  const TempBorrowerAddress = \"0xB91e9f737B2227E92A373fb071b66B10eC6770d0\";\n\n  let throttle_flag = false;\n  const throttle = (func: () => void, delay: number) => {\n    if (!throttle_flag) {\n      func();\n      throttle_flag = true;\n      setTimeout(() => {\n        throttle_flag = false;\n      }, delay);\n    }\n  };\n\n  useEffect(() => {\n    if (account) {\n      throttle(() => setState({ ...state, address: account }), 500);\n    }\n    setState({ ...state, active: !!account, chainId: chainId });\n\n    switch (account) {\n      case TempCollateralAddress:\n        setState({ ...state, userType: UserType.Collateral })\n        break;\n      case TempBorrowerAddress:\n        setState({ ...state, userType: UserType.Borrowers })\n        break;\n      default:\n        if(!!account) {\n          setState({ ...state, userType: UserType.Guest })\n        } else {\n          setState({ ...state, userType: UserType.User })\n        }\n    }\n  }, [account]);\n\n  const activateWallet = () => {\n    activate(InjectedConnector)\n    console.log(account)\n  }\n\n\n\n  return (\n    <WalletContext.Provider value={{\n      ...state,\n      activateWallet\n    }}>\n      {props.children}\n    </WalletContext.Provider>\n  );\n}\n\nexport default WalletProvider;"]},"metadata":{},"sourceType":"module"}